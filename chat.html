<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ChatGPT Commit Interface</title>
</head>
<body>
  <h2>ChatGPT Commit Intercept 測試</h2>
  <textarea id="reply" rows="10" cols="80" placeholder="貼上含 @@FILE{...}@@ 的回應"></textarea><br/>
  <button onclick="send()">送出至 /intercept</button>
  <pre id="result"></pre>
  <script>
    async function send() {
      const reply = document.getElementById('reply').value;
      const res = await fetch('/intercept', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({reply})
      });
      const json = await res.json();
      document.getElementById('result').textContent = JSON.stringify(json, null, 2);
    }
  </script>
</body>
</html>
